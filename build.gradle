plugins {
    id 'java'
}

group 'org.example'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    flatDir {
        dirs 'dependences'
    }
}

dependencies {
    implementation name: 'Adempiere'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

//	Create release for project
task createRelease(type: Zip) {
    dependsOn build
    from 'build/libs/'
    from 'xml/'
    include '*'
    include '*/*'
    archiveName project.name + '.zip'
    destinationDir(file('build/release/'))
    doLast {
        file('build/release/')
                .listFiles({file -> file.isFile()} as FileFilter).sort()
                .each { File file ->
                    ant.checksum file: file
                }
    }
}